# โ ูฺฉูู - ุตุงุฑู ฺฉ ุณุงุฆฺุจุงุฑ ูฺบ ุงุฌุงุฒุชูฺบ ฺฉ ุจูุงุฏ ูพุฑ ูนุจุฒ

## ๐ฏ ูุณุฆู ุญู ู ฺฏุง

ูพู: ุชูุงู ุตุงุฑูู ฺฉู ุณุงุฆฺุจุงุฑ ูฺบ ุฏูููฺบ ูนุจุฒ (Dashboard ุงูุฑ Completed Tasks) ูุธุฑ ุข ุฑ ุชฺพุ ฺุง ุงู ฺฉ ุงุฌุงุฒุช ู ุง ู ู

**ุงุจ:** ุตุฑู ู ูนุจุฒ ูุธุฑ ุขุฆฺบ ฺฏ ุฌู ฺฉ ุงุฌุงุฒุช ุตุงุฑู ฺฉู 

---

## ๐ ูุฎุชูู ุตุงุฑูู ฺฉุง ุฏฺฉฺพฺบ ฺฏ

### ุตุงุฑู ูุณู #1: ุตุฑู Call Tickets ฺฉ ุงุฌุงุฒุช

**ุงุฌุงุฒุช:**
```json
{
  "canCallTickets": true,
  "canCreateTickets": false
}
```

**ุณุงุฆฺุจุงุฑ ูฺบ ูุธุฑ ุขุฆ ฺฏุง:**
- โ User Dashboard (ูนฺฉูน ฺฉุงู ฺฉุฑู ฺฉ ู)
- โ Completed Tasks (ูฺบ ุฏฺฉฺพุงุฆ ุฏ ฺฏุง)

**ูุงุฆุฏ:** 
ุตุงุฑู ฺฉู ุตุฑู ุงูพูุง ฺฉุงู ูุธุฑ ุขุฆ ฺฏุงุ ฺฉูุฆ ุงูุฌฺพู ูฺบ

---

### ุตุงุฑู ูุณู #2: ุตุฑู Completed Tasks ฺฉ ุงุฌุงุฒุช

**ุงุฌุงุฒุช:**
```json
{
  "canCallTickets": false,
  "canCreateTickets": true
}
```

**ุณุงุฆฺุจุงุฑ ูฺบ ูุธุฑ ุขุฆ ฺฏุง:**
- โ User Dashboard (ูฺบ ุฏฺฉฺพุงุฆ ุฏ ฺฏุง)
- โ Completed Tasks (ูฺฉูู ุดุฏ ฺฉุงู ุฏฺฉฺพู ฺฉ ู)

**ูุงุฆุฏ:** 
ุตุงุฑู ฺฉู ุตุฑู ุงูพู ูฺฉูู ฺฉ ูุฆ ูนฺฉูน ูุธุฑ ุขุฆฺบ ฺฏ

---

### ุตุงุฑู ูุณู #3: ุฏูููฺบ ุงุฌุงุฒุชฺบ

**ุงุฌุงุฒุช:**
```json
{
  "canCallTickets": true,
  "canCreateTickets": true
}
```

**ุณุงุฆฺุจุงุฑ ูฺบ ูุธุฑ ุขุฆ ฺฏุง:**
- โ User Dashboard
- โ Completed Tasks

**ูุงุฆุฏ:** 
ูฺฉูู ุฑุณุงุฆ - ุฏูููฺบ ุตูุญุงุช ุขุฒุงุฏุงู ุงุณุชุนูุงู ฺฉุฑ ุณฺฉุชุง 

---

### ุตุงุฑู ูุณู #4: ฺฉูุฆ ุงุฌุงุฒุช ูฺบ

**ุงุฌุงุฒุช:**
```json
{
  "canCallTickets": false,
  "canCreateTickets": false
}
```

**ุณุงุฆฺุจุงุฑ ูฺบ ูุธุฑ ุขุฆ ฺฏุง:**
- โ ฺฉูุฆ navigation tabs ูฺบ
- ุตุฑู ุตุงุฑู ฺฉ ูุนูููุงุช (ูุงู ุงูุฑ ฺฉุงุคููนุฑ ููุจุฑ)

**ูุงุฆุฏ:** 
ุบุฑ ูุนุงู ุตุงุฑู ฺฉู ฺฉูุฆ ุงูุฌฺพู ูฺบ

---

## ๐ง ุชฺฉูฺฉ ุชูุตูุงุช

### ูุงุฆู ูฺบ ุชุจุฏูุงฺบ
**File:** `src/Components/UserSidebar.js`

### 1. ุงุฌุงุฒุชฺบ ููฺ ฺฉุฑูุง
```javascript
useEffect(() => {
  const user = JSON.parse(localStorage.getItem('user'));
  
  // ุตุงุฑู ฺฉ ุงุฌุงุฒุชฺบ ูฺฉุงูฺบ
  let userPermissions = user.permissions;
  
  // ุงฺฏุฑ string  ุชู JSON ูฺบ convert ฺฉุฑฺบ
  if (typeof userPermissions === 'string') {
    userPermissions = JSON.parse(userPermissions);
  }
  
  setPermissions(userPermissions);
}, []);
```

### 2. ุงุฌุงุฒุช ฺฺฉ ฺฉุฑูุง
```javascript
const hasPermission = (permission) => {
  // Admin ุงูุฑ Super Admin ฺฉู ุณุจ ุงุฌุงุฒุชฺบ
  if (userRole === 'admin' || userRole === 'super_admin') {
    return true;
  }
  
  // ูุฎุตูุต ุงุฌุงุฒุช ฺฺฉ ฺฉุฑฺบ
  return permissions && permissions[permission] === true;
};
```

### 3. ูนุจ ุฏฺฉฺพุงูุง (ุตุฑู ุงุฌุงุฒุช ูู ูพุฑ)
```javascript
{/* Dashboard - ุตุฑู canCallTickets ูุงู ุฏฺฉฺพฺบ */}
{hasPermission('canCallTickets') && (
  <Link href="/user/dashboard">
    User Dashboard
  </Link>
)}

{/* Completed Tasks - ุตุฑู canCreateTickets ูุงู ุฏฺฉฺพฺบ */}
{hasPermission('canCreateTickets') && (
  <Link href="/user/completed-tasks">
    Completed Tasks
  </Link>
)}
```

---

## ๐งช ุฌุงูฺ ฺฉุณ ฺฉุฑฺบ

### ุฌุงูฺ #1: ุตุฑู Call Tickets ูุงูุง ุตุงุฑู

1. ุงฺฉ ุตุงุฑู ุจูุงุฆฺบ
2. User Management ูฺบ ุฌุงุฆฺบ
3. ุตุฑู "Call Tickets" โ ฺฉุฑฺบ
4. ูุงฺฏ ุขุคูน ฺฉุฑ ฺฉ ุงุณ ุตุงุฑู ุณ ูุงฺฏ ุงู ฺฉุฑฺบ
5. ุณุงุฆฺุจุงุฑ ุฏฺฉฺพฺบ

**ูุชุฌ:**
- โ User Dashboard ูุธุฑ ุขูุง ฺุง
- โ Completed Tasks ูฺบ ุฏฺฉฺพุงุฆ ุฏูุง ฺุง

---

### ุฌุงูฺ #2: ุตุฑู Completed Tasks ูุงูุง ุตุงุฑู

1. ุงฺฉ ุตุงุฑู ุจูุงุฆฺบ
2. User Management ูฺบ ุฌุงุฆฺบ
3. ุตุฑู "Completed Task" โ ฺฉุฑฺบ
4. ูุงฺฏ ุขุคูน ฺฉุฑ ฺฉ ุงุณ ุตุงุฑู ุณ ูุงฺฏ ุงู ฺฉุฑฺบ
5. ุณุงุฆฺุจุงุฑ ุฏฺฉฺพฺบ

**ูุชุฌ:**
- โ User Dashboard ูฺบ ุฏฺฉฺพุงุฆ ุฏูุง ฺุง
- โ Completed Tasks ูุธุฑ ุขูุง ฺุง

---

### ุฌุงูฺ #3: ุฏูููฺบ ุงุฌุงุฒุชูฺบ ูุงูุง ุตุงุฑู

1. ุงฺฉ ุตุงุฑู ุจูุงุฆฺบ
2. User Management ูฺบ ุฌุงุฆฺบ
3. "Call Tickets" ุงูุฑ "Completed Task" ุฏูููฺบ โ ฺฉุฑฺบ
4. ูุงฺฏ ุขุคูน ฺฉุฑ ฺฉ ุงุณ ุตุงุฑู ุณ ูุงฺฏ ุงู ฺฉุฑฺบ
5. ุณุงุฆฺุจุงุฑ ุฏฺฉฺพฺบ

**ูุชุฌ:**
- โ User Dashboard ูุธุฑ ุขูุง ฺุง
- โ Completed Tasks ุจฺพ ูุธุฑ ุขูุง ฺุง

---

## ๐ก ุงู ูฺฉุงุช

### 1. ุงุฌุงุฒุช ุชุจุฏู ฺฉุฑู ฺฉ ุจุนุฏ
โ๏ธ **ุถุฑูุฑ:** ุตุงุฑู ฺฉู ูุงฺฏ ุขุคูน ฺฉุฑ ฺฉ ุฏูุจุงุฑ ูุงฺฏ ุงู ฺฉุฑูุง ูพฺ ฺฏุง ุชุงฺฉ ูุฆ ุงุฌุงุฒุชฺบ ููฺ ูฺบ

### 2. Admin/Super Admin
โ ุชูุงู ูนุจุฒ ุฎูุฏฺฉุงุฑ ุทูุฑ ูพุฑ ูุธุฑ ุขุช ฺบ (ฺฉูุฆ ฺฺฉ ูฺบ)

### 3. ุชู ุณุทุญ ุญูุงุธุช
1. **Sidebar:** ุตุฑู allowed ูนุจุฒ ุฏฺฉฺพุงุช 
2. **Frontend:** Page load ูพุฑ permission ฺฺฉ
3. **Backend:** API call ูพุฑ permission ฺฺฉ

### 4. ุตุงุฑู ฺฉุง ุชุฌุฑุจ
- ุตุงู ุณุชฺพุฑุง interface
- ฺฉูุฆ ุงูุฌฺพู ูฺบ
- ุตุฑู ุงูพูุง ฺฉุงู ูุธุฑ ุขุชุง 

---

## ๐ฑ Browser Console ูฺบ ุฌุงูฺ

**F12 ุฏุจุง ฺฉุฑ Console ฺฉฺพููฺบ:**

```javascript
// ุงูพู ุงุฌุงุฒุชฺบ ุฏฺฉฺพฺบ
const user = JSON.parse(localStorage.getItem('user'));
console.log('ูุฑ ุงุฌุงุฒุชฺบ:', JSON.parse(user.permissions));

// Check ฺฉุฑฺบ ฺฉูู ุณ ูนุจุฒ ูุธุฑ ุขู ฺุงฺบ
const permissions = JSON.parse(user.permissions);
console.log('Dashboard ุฏฺฉฺพุ', permissions.canCallTickets); // true/false
console.log('Completed Tasks ุฏฺฉฺพุ', permissions.canCreateTickets); // true/false
```

---

## ๐ ูฺฉูู ุนูู

```
Admin ู ุตุงุฑู ฺฉู ุงุฌุงุฒุชฺบ ุฏฺบ
  โ
ุตุงุฑู ูุงฺฏ ุงู ฺฉุฑ
  โ
ุงุฌุงุฒุชฺบ localStorage ูฺบ ูุญููุธ ูฺบ
  โ
UserSidebar ุงุฌุงุฒุชฺบ ูพฺฺพ
  โ
ุตุฑู allowed ูนุจุฒ ุฏฺฉฺพุงุฆ
  โ
ุตุงุฑู ูนุจ ูพุฑ ฺฉูฺฉ ฺฉุฑ
  โ
Page load ูู ุณ ูพู permission ฺฺฉ
  โ
API call ูพุฑ ุจฺพ permission ฺฺฉ
  โ
ุตูุญ ฺฉุงูุงุจ ุณ ฺฉฺพู ุฌุงุฆ
```

---

## ๐ ฺฺฉ ูุณูน

### Admin ฺฉ ู:
- [ ] User Management ฺฉฺพููุง
- [ ] ุตุงุฑู ุจูุงุง ุง edit ฺฉุง
- [ ] ููุงุณุจ permissions ุฏ
  - [ ] Call Tickets โ Dashboard ฺฉ ู
  - [ ] Completed Task โ Completed Tasks ฺฉ ู
- [ ] Save ฺฉุง
- [ ] ุตุงุฑู ฺฉู ุจุชุงุง ฺฉ logout/login ฺฉุฑฺบ

### ุตุงุฑู ฺฉ ู:
- [ ] Logout ฺฉุง
- [ ] ุฏูุจุงุฑ Login ฺฉุง
- [ ] Sidebar ฺฺฉ ฺฉุง
- [ ] ุตุฑู allowed ูนุจุฒ ูุธุฑ ุข ุฑ ฺบ
- [ ] ูนุจ ฺฉูฺฉ ฺฉุฑู ูพุฑ ุตูุญ ฺฉฺพู ุฑุง 

---

## ๐ ูุซุงู ฺฉ ุตูุฑุชุญุงู

### ุณูุงุฑู: ุจูฺฉ ูฺบ ุงุณุชุนูุงู

**Counter Person (ฺฉุงุคููนุฑ ูพุฑ ฺฉุงู ฺฉุฑู ูุงูุง):**
- ุงุฌุงุฒุช: `canCallTickets: true`
- ุณุงุฆฺุจุงุฑ: ุตุฑู "User Dashboard"
- ฺฉุงู: ูุฆ ฺฏุงฺฉูฺบ ฺฉู ฺฉุงู ฺฉุฑูุง

**Supervisor (ูฺฏุฑุงู):**
- ุงุฌุงุฒุช: `canCreateTickets: true`
- ุณุงุฆฺุจุงุฑ: ุตุฑู "Completed Tasks"
- ฺฉุงู: ุขุฌ ฺฉ ฺฉุงู ฺฉ ุฑูพูุฑูน ุฏฺฉฺพูุง

**Manager (ููุฌุฑ):**
- ุงุฌุงุฒุชฺบ: ุฏูููฺบ `true`
- ุณุงุฆฺุจุงุฑ: ุฏูููฺบ ูนุจุฒ
- ฺฉุงู: ุณุจ ฺฉฺฺพ ุฏฺฉฺพูุง ุงูุฑ ูุงููนุฑ ฺฉุฑูุง

---

## โ ููุงุฆุฏ

1. โจ **ุตุงู Interface:** ุตุงุฑู ฺฉู ุตุฑู ุงูพูุง ฺฉุงู ูุธุฑ ุขุชุง 
2. ๐ **ูุญููุธ:** ุบุฑ ูุฌุงุฒ ุฑุณุงุฆ ููฺฉู ูฺบ
3. ๐ฏ **ูุฑฺฉูุฒ:** ฺฉูุฆ ุงูุฌฺพู ูฺบุ ุตุฑู ุงูพู ฺฉุงู ูพุฑ ุชูุฌ
4. โก **ุชุฒ:** ุบุฑ ุถุฑูุฑ ูนุจุฒ ูฺบ ููฺ ูุช
5. ๐ฅ **ูฺฺฉุฏุงุฑ:** ุฑ ุตุงุฑู ฺฉู ุงุณ ฺฉ ุถุฑูุฑุช ฺฉ ูุทุงุจู

---

## ๐ ูุณุงุฆู ุงูุฑ ุญู

### ูุณุฆู #1: ุงุฌุงุฒุช ุฏ ูฺฉู ูนุจ ูฺบ ุฏฺฉฺพุง

**ุญู:**
1. ุตุงุฑู ฺฉู logout ฺฉุฑูุงุฆฺบ
2. ุฏูุจุงุฑ login ฺฉุฑูุงุฆฺบ
3. Browser cache ุตุงู ฺฉุฑฺบ (Ctrl + Shift + Delete)
4. ุฏูุจุงุฑ ฺฉูุดุด ฺฉุฑฺบ

### ูุณุฆู #2: ุชูุงู ูนุจุฒ ูุธุฑ ุข ุฑ ฺบ

**ุญู:**
1. Console (F12) ฺฉฺพูู ฺฉุฑ permissions ฺฺฉ ฺฉุฑฺบ
2. `localStorage.getItem('user')` ุฏฺฉฺพฺบ
3. ุงฺฏุฑ admin/super_admin ฺบ ุชู ุณุจ ูุธุฑ ุขุฆฺบ ฺฏ ( ุตุญุญ )

### ูุณุฆู #3: ฺฉูุฆ ูนุจ ูฺบ ุฏฺฉฺพุง

**ุญู:**
1. ุตุงุฑู ฺฉู ฺฉู ุงุฒ ฺฉู ุงฺฉ permission ุฏฺบ
2. Database ูฺบ permissions ฺฺฉ ฺฉุฑฺบ
3. ุตุงุฑู ฺฉ status = 'active' ูู ฺุง

---

**ูุธุงู ูฺฉูู ุทูุฑ ูพุฑ ุชุงุฑ ! ๐**

ุงุจ ุฑ ุตุงุฑู ฺฉู ุตุฑู ู ูนุจุฒ ูุธุฑ ุขุฆฺบ ฺฏ ุฌู ฺฉ ุงุณ ุงุฌุงุฒุช 
